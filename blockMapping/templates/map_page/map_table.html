{% extends 'base_BLM.html' %}
{% load static %}

{% block title %}
<title>Block Level Mapping: Map</title>
{% endblock %}

{% block content %}
<main>
  <div id="disease_choices">
    <ul class="ds-cbox" id="checkbox_place"> <p><strong>Selection:</strong></p>  
      {% for disease in all_diseases %}
        <li><input type="checkbox" name="main-disease1" value="{{disease}}"><label>{{ disease }}</label></li>
      {% endfor %}
    </ul>

    <button id="btn_toggle"><span>Toggle</span></button>
  </div>
  

  <!-- Map -->
  <div id="my_map">
    <img src="{% static 'own/Images/Map.jpeg' %}" id="central_map" alt="CentralMap" usemap="#centralmap">
    <map name="centralmap">
      <area name="Ang Mo Kio" class="area" id="AMK" alt="Ang Mo Kio" title="AMK" shape="poly" coords="132,106,42,32,79,42,110,40,136,37,167,30,206,16,214,15,234,16,245,14,264,16,276,11,288,4,300,7,311,20,312,58,311,111,312,146,314,162,332,219,330,234,324,246,315,273,312,294,303,320,291,309,286,298,262,270,248,264,232,256,218,259,183,248,148,234,128,228,104,226,104,214,108,205,105,197,96,191,92,174,106,154,100,141,87,134,78,145,61,136,34,130,46,118,46,101,34,81,28,83,39,74,38,53,43,34" style="outline:none;" target="_self" data-0="Lorem Ipsum0" data-1="Lorem Ipsum1" data-2="Lorem Ipsum2" data-3="Lorem Ipsum3"    />
      <area name="Bishan" class="area" id="Bishan" alt="Bishan" title="Bishan" shape="poly" coords="162,310,99,270,111,230,180,252,204,259,234,264,254,273,276,294,282,316,300,323,308,362,316,384,326,410,298,413,250,404,224,412,197,398,181,410,165,425,171,414,159,386,160,383,149,370,135,364,127,348,96,330,68,347,41,331,57,282,78,276,82,264,91,266,95,267" style="outline:none;" target="_self" data-0="Lorem Ipsum0" data-1="Lorem Ipsum1" data-2="Lorem Ipsum2" data-3="Lorem Ipsum3"     />
      <area name="Serangoon" class="area" id="Serangoon" alt="Serangoon" title="Serangoon" shape="poly" coords="334,264,338,218,318,162,319,106,317,56,340,62,352,69,383,75,420,88,442,107,442,138,442,187,434,236,418,264,416,281,425,307,450,338,451,350,466,373,467,390,488,424,466,416,450,401,432,410,404,415,394,416,372,402,352,412,333,410,308,327,322,264,336,226" style="outline:none;" target="_self" data-0="Lorem Ipsum0" data-1="Lorem Ipsum1" data-2="Lorem Ipsum2" data-3="Lorem Ipsum3"    />
      <area name="Hougang" class="area" id="Hougang" alt="Hougang" title="Hougang" shape="poly" coords="473,171,450,184,447,96,428,85,456,70,483,85,538,136,556,141,574,140,583,145,603,143,643,135,675,164,669,186,622,307,590,321,584,335,576,335,556,380,575,394,590,388,597,420,583,449,571,463,555,480,528,488,513,444,496,426,474,392,471,365,457,351,458,338,427,296,419,272,439,236,450,186,450,183" style="outline:none;" target="_self" data-0="Lorem Ipsum0" data-1="Lorem Ipsum1" data-2="Lorem Ipsum2" data-3="Lorem Ipsum3"    />
      <area name="Toa Payoh" class="area" id="ToaPayoh" alt="Toa Payoh" title="ToaPayoh" shape="poly" coords="222,436,322,414,348,416,376,411,394,426,429,419,446,406,458,417,479,426,501,439,509,448,511,470,520,486,504,486,486,492,470,498,449,506,427,511,414,514,394,534,374,523,342,512,304,522,260,518,220,516,193,520,171,485,171,449,166,433,196,405,210,411,222,418,243,412,259,410,287,420,304,422,320,414" style="outline:none;" target="_self" data-0="Lorem Ipsum0" data-1="Lorem Ipsum1" data-2="Lorem Ipsum2" data-3="Lorem Ipsum3"    />
      <area name="Geylang" class="area" id="Geylang" alt="Geylang" title="Geylang" shape="poly" coords="442,544,413,524,453,510,505,494,530,493,561,486,582,463,644,533,647,553,637,586,637,611,650,642,615,670,564,668,529,679,534,692,489,706,466,686,442,679,432,607,442,591,396,536,412,524" style="outline:none;" target="_self" data-0="Lorem Ipsum0" data-1="Lorem Ipsum1" data-2="Lorem Ipsum2" data-3="Lorem Ipsum3"    />
      <area name="Novena-Kallang-Rochor" class="area" id="Novena-Kallang-Rochor" alt="Novena-Kallang-Rochor" title="Novena-Kallang-Rochor" shape="poly" coords="216,606,195,533,244,521,294,528,348,517,380,533,391,539,416,573,436,591,427,607,431,653,437,680,465,689,490,715,496,713,496,725,504,737,503,775,345,789,336,759,322,743,296,718,282,724,296,741,272,767,256,755,256,741,243,747,230,739,230,725,223,717,231,711,242,718,253,703,237,695,243,688,235,673,190,652,156,614,89,588,73,578,4,566,8,528,24,497,38,483,54,444,91,434,119,434,140,443,157,431,165,445,163,482,174,507" style="outline:none;" target="_self" data-0="Lorem Ipsum0" data-1="Lorem Ipsum1" data-2="Lorem Ipsum2" data-3="Lorem Ipsum3"    />
    </map>
  </div>
  <!-- Map end-->

  <!-- Table -->
  <div id="my_table">
    <button data-modal-target="#modal" onclick="expandTable()" id="btn_expand"><span>Expand table</span></button>
    <div id="table_place">
    </div>

  </div>
</main>

<div class="modal" id="modal">
  <div class="modal-header">
    <div class="title">Detailed Table</div>
    <button data-close-button class="close-button">&times;</button>
  </div>
  <div class="modal-body" id="modal-body">
  </div>
</div>

<div id="overlay"></div>

{% endblock %}

{% block script %}
<script>
$(document).ready(function(e) {
  $('img[usemap]').rwdImageMaps();
});


</script>

<script type="text/javascript">

  var current_dist = "";
  const json_file = "{{json_info|escapejs}}";
  const mapping_info = "{{mapping_info|escapejs}}";
  const json_dict_full =  JSON.parse(json_file);
  const mapping_dict = JSON.parse(mapping_info);
  var choices = {};
  var toggled = 0;

  const choices_selector = document.getElementById('disease_choices');
  var all_diseases = choices_selector.getElementsByTagName('input');
</script>
{% endblock %}